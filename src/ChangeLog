2008-06-17  Jonathan Gonzalez V.  <zeus@gnu.org>

	* compras.c (on_partial_cell_renderer_edited): Added function edit
	a cell_renderer on partial ingress treeviews.
	(on_button_ok_ingress_clicked): Added
	on_partial_cell_renderer_edited as handler for signal edited on
	"Cant. Ing." column renderer for partial invoice and guide ingress.
	(CambiarStock): Deleted function.

2008-06-16  Jonathan Gonzalez V.  <zeus@gnu.org>

	* compras.c (AskPagarCaja): Deleted function.
	(PagarDocumentoWin, ClosePagarDocumentoWin, PagarToggle): Deleted function
	(on_btn_pay_invoice_clicked): Created function to deal with
	clicked action and pay an invoice.
	(Pagar): Deleted function.
	(FillPartialTree): Added function to fill treeview on partial
	ingress for guide an invoices.

	* postgres-functions.c (PagarFactura): Commented code that insert
	data into "pagos" table. Deleted previous parameters and just use
	id_invoice to update an invoice.

	* compras.c (CalcularTotalesGuias): Changed to use the new tables
	guias_compra_detalle and guias_compra.

2008-06-15  Jonathan Gonzalez V.  <zeus@gnu.org>

	* compras.c (ClearPagosData): Deleted Function.
	(on_btn_ok_srch_provider_clicked): Added var tab and guide to know
	in what tab we are so we can know if we'll set on guide or invoice
	labels.
	(on_entry_guide_invoice_provider_activate): Changed from
	on_entry_guide_invoice_activate().
	(on_entry_invoice_provider_activate): Silly function that use
	on_entry_guide_invoice_provider_activate() to show up the search
	provider window.
	(compras_win): Added store to tree_view_invoice_list treeview.
	(IngresoDetalle): Use GtkSelection received with the signal.

2008-06-13  Jonathan Gonzalez V.  <zeus@gnu.org>

	* postgres-functions.c (AsignarFactAGuia): Changed to use the
	plpsql function.

	* compras.c (InformeCompras, InformeComprasShow): Deleted.

	* postgres-functions.c (IngresarGuia): Added the column list to
	insert data.
	(IngresarDetalleDocumento): Changed to use the new tables
	separated for guide and invoice.

2008-06-11  Jonathan Gonzalez V.  <zeus@gnu.org>

	* compras.c (CloseAskIngreso|Canjeables|CanjeablesWindow): Deleted.
	(CheckCanjeables): Deleted.

	* ventas.c (ventas_win): Added initialize on NULL to GError.

	* compras.c (on_button_ok_ingress_clicked): Added code to deal
	with partial_invoice ingress.

	* tiempo.c (RefreshTime): Deleted function.
	(__days): Deleted.
	(__months): Deleted.

	* Makefile.am: Added 2008 to the copyright years list.

	* tiempo.c: Added 2008 to the copyright years list.

	* tipos.h: Added 2008 to the copyright years list. Deleted some
	vars used with the old interface.

	* compras.c (AddFactura): Changed to use GDate.
	(ShowProductDescription): Deleted function.
	(SearchProductHistory): Deleted old commented code. Added comments
	to keep out the use of label_canje and label_stock_pro vars.
	(compras_win|RemoveBuyProduct): "gtk_widget_set_sensitive
	(confirm_button, TRUE);" deleted.
	(IngresoParcial|ChangeIngreso): Deleted function.
	(CambiarStock): Commented function, can be used in the future.
	(ElabVencCal|CloseElabVenc): Deleted.
	(SetElabVenc|DrawAsk): Deleted
	(AskIngreso): Deleted commented code.
	(CloseAskIngreso): Deleted unnecessary code.
	(on_button_ok_ingress_clicked): Added code to deal with
	partial_guide ingress.

2008-06-10  Jonathan Gonzalez V.  <zeus@gnu.org>

	* compras.c (on_tree_selection_pending_guide_changed): Added
	function to deal with the proper signal and fill the bottom tree
	view with the product list of the selected guide.

	* utils.c (clean_container): Added support to deal with tree views
	and treat a gtk_treeview as a widget not as a container.

	* utils.h: Added declaratino of clean_container().

	* compras.c (CalcularTotalesGuias|CheckMontoGuias): Changed to use the GtkBuilder interface.

2008-06-07  Jonathan Gonzalez V.  <zeus@gnu.org>

	* utils.c (clean_container): Added function to clean
	containers. Focused on GtkWindows and clean any GtkLabel or
	GtkEntry without a number on the widget name.
	(clean_container): Replaced the do-while for a while.

2008-06-06  Jonathan Gonzalez V.  <zeus@gnu.org>

	* compras.c
	(on_btn_invoice_guide_clicked|on_btn_guide_invoice_clicke): Added
	function to handle the proper signal.
	(AddGuia|DelGuia): Deleted function. No one use it now.

2008-06-05  Jonathan Gonzalez V.  <zeus@gnu.org>

	* compras.c (on_entry_srch_provider_activate): Created to deal
	with the activate signal of entry and find on srch_provider
	window. Search and find a provider.
	(SelectProveedor|CloseSelectProveedor): Deleted function.
	(ClearFactData): Modified to deal with the widget from GtkBuilder.

2008-06-04  Jonathan Gonzalez V.  <zeus@gnu.org>

	* compras.c (FillGuias): Changed query to get pending guides.
	(compras_win): Added columns to treeviews.
	(on_entry_guide_invoice_activate): Added function to deal with the
	button signal.

2008-05-16  Jonathan Gonzalez V.  <zeus@gnu.org>

	* utils.c (parse_date): Dropped, not need it anymore.

	* compras.c (IngresarCompra): Last part to deal with an ingress guide.

	* postgres-functions.c (IngresarGuia): Changed the type of input
	values related to date from gchar * to gint.

2008-05-15  Jonathan Gonzalez V.  <zeus@gnu.org>

	* compras.c (CheckDocumentData): Fixed to use parse_date to get
	the GDate from the date string set by calendar_display.

	* utils.c (parse_date): Created this function to deal with a parse
	of date and return a GDate, this should not be useful when
	g_date_set_parse deal with DDMMYY date format.

	* compras.c (CheckDocumentData): Changed to deal with invoice and
	guide at the same time. We really need a better way to check data.

2008-05-12  Jonathan Gonzalez V.  <zeus@gnu.org>

	* postgres-functions.c (IngresarFactura): The n_doc argument and
	the arguments related to date all moved to gint.

	* compras.c (IngresarCompra): Added the invoice argument to know
	when we will ingress an invoice or not.

	* utils.c (display_calendar): Added a -1 when set the month on the
	GtkCalendar, this sinces GtkCalendar set the months from 0 to 11
	and GDate set them from 1 to 12 and left 0 for a bad month. Also
	add  valid date check.

2008-05-06  Jonathan Gonzalez V.  <zeus@gnu.org>

	* compras.c: (check_regexp): Drop function. It should't ever be here.

	* utils.c (display_calendar): Fixed the position of the
	GtkCalendar and drop the use of the vbox to put the calendar
	inside the GtkWindow. Some order and drop the use of unnecessary functions.
	(validate_string): Add function.

2008-05-04  Jonathan Gonzalez V.  <zeus@gnu.org>

	* utils.c: Added this function to display a calendar ander a
	button and put the selected date into a GtkEntry. This is to
	replace the GnomeDateEdit widget that isn't supported yet with GtkBuilder.

2008-04-27  Jonathan Gonzalez V.  <zeus@gnu.org>

	* compras.c (SearchProductHistory|AddToProductsList): Use of GtkBuilder.
	(ShowProductDescription|compras_win): Deleted commented code. We
	have VC use it if you want to read old code.
	(FillDataProduct): Deleted function. It was just commented code.
	(AddToProductsList): Use GtkBuilder. Add some brackets.
	(on_button_buy_clicked): Added new function to handle button
	signal clicked.
	(Comprar): Deleted the use of function InsertarCompras(), this was
	inserting an creating a treeview everytime that we bought something.
	(CallBacksTabs): Rename this function for on_buy_notebook_change_current_page().
	(CalcularTotales): Modified to use GtkBuilder.

2008-04-05  Jonathan Gonzalez V.  <zeus@gnu.org>

	* compras.c (compras_win): Added GError to gtk_builder_add_from_file
	to check any wrong object.

	* ventas.c (ventas_win): Added GError to gtk_builder_add_from_file
	to check any wrong object.

2008-03-29  Jonathan Gonzalez V.  <zeus@gnu.org>

	* compras.c (SearchByName): Changed to void the input vars.

	* ventas.c (BuscarProducto): Eliminated an unuseful cast.

	* compras.c (SearchByName): Use the .ui interface.
	(ClearAllCompraData): Deleted some commented code.

2008-03-23  Jonathan Gonzalez V.  <zeus@gnu.org>

	* compras.c (compras_win): Commented all the old code. Added the
	use of GtkBuilder to build the gui.
	(on_barcode_entry_activate|on_buy_barcode_entry_activate): Added
	functions. Doesn't do anything yet
	(AddNew|AddFoundProduct): Commented line that run the SearchProductHistory, this
	should not happend?.

	* config_file.c (rizoma_get_value): Changed the return and input
	types from char * to gchar *.
	Deleted all the tabs and re-indent.

	* Makefile.am (bin_PROGRAMS): Eliminated the creation of
	rizoma-admin while we finish the creation of rizoma-compras.

	* ventas.c (main): Changed the type of *argv[] to **argv. Just style.
	(main): Deleted the code that get the screen size.
	Deleted gint screen_width and gint screen_height.

2006-07-02  Jonathan Gonzalez V.  <zeus@gnu.org>

	* ventas.c (SearchBarcodeProduct): No nothing is showed if the
	user hasn't put information to search. We prevent large search on
	DB and information not requested.

2006-06-28  Jonathan Gonzalez V.  <zeus@gnu.org>

	* compras.c (CalcularPrecioFinal): Added a consideration of have
	no IVA on all the conditionals.

	* postgres-functions.c (SaveBuyProducts): Added 'if
	(products->product->iva != -1)' to prevent the calc of IVA when
	this isn't set it.

2006-06-18  Jonathan Gonzalez V.  <zeus@gnu.org>

	* main.c (main): Modified the ask password window, added a lock
	icon and re-ordered the entry for user and password.

2006-06-03  Jonathan Gonzalez V.  <zeus@gnu.org>

	* rizoma-config.c (main): Enable the cancel button on all the
	pages of the druid.

2006-06-02  Jonathan Gonzalez V.  <zeus@gnu.org>

	* config_file.c (rizoma_read_conf): Fixed the bug produced when
	the config file contained a blank line or a line started with #.

2006-05-31  Jonathan Gonzalez V.  <zeus@gnu.org>

	* proveedores.c (proveedores_box): Fill with more data the
	TreeView listing the suppliers.
	(ModificarProveedor): Fixed the warning produced by the value
	returned by gtk_entry_get_text () (const gchar *), used a cast.
	(BuscarProveedor): Fixed the bug that the search was
	discriminating between upper and lower case letters.

2006-05-29  Jonathan Gonzalez V.  <zeus@gnu.org>

	* proveedores.c (proveedores_box): Changed the type of how the rut
	of a supplier it's showed from an entry to a label.
	(ModificarProveedor): Created to modify a supplier.

2006-05-24  Jonathan Gonzalez V.  <zeus@gnu.org>

	* config_file.c (rizoma_save_file): Committed the line that
	printed the Rizoma POS version on the config file. Possibly buggy.

	* vale.c (PrintVale): Fixed the problem that printed confused
	values on the ticket.

2006-05-09  Jonathan Gonzalez V.  <zeus@gnu.org>

	* compras.c (FillProveedores): Added an order to the list of
	proveedores so we can search in a big list without problems.

2006-05-07  Jonathan Gonzalez V.  <zeus@gnu.org>

	* ventas.c (CanjearProducto): Fixed the problem reported in Los Lagos.

2006-05-06  Jonathan Gonzalez V.  <zeus@gnu.org>

	* manejo_productos.c (SearchProductByBarcode): The function
	returned a product even if the product didn't exist on the list.

2006-04-10  Jonathan Gonzalez V.  <zeus@gnu.org>

	* compras.c (CheckCanjeables): We check if the compra->header
	isn't NULL because this produce a segmentation fault.

2006-04-09  Jonathan Gonzalez V.  <zeus@gnu.org>

	* ventas.c (ventas_box): Fixed the accelerator that was
	overwritten a previous one for F6.

	* postgres-functions.c (ReturnUsername): Added to get the username
	just having the id.

	* usuario.c (user_box): Set to false the visibility of the entry
	boxes that change a user password.

	* main.c (PutPoints): Created a new conditional to accept and
	reject any NULL argument.

2006-04-08  Jonathan Gonzalez V.  <zeus@gnu.org>

	* ventas.c (ventas_box): Commented the section that show the
	"facturar" and "Guia" options.

2006-04-04  Jonathan Gonzalez V.  <zeus@gnu.org>

	* main.c (MainWindow): Fixed the line 658 it were accepting the
	wrong user level.
	(MainWindow): Added a new condition in the line 718 so only a user
	with level 0 can do the action.

	* ventas.c (SearchBarcodeProduct): Dropped the ModfiedBarcode,
	cause we do not need to put a '-' on the barcode.

2006-03-27  Jonathan Gonzalez V.  <zeus@gnu.org>

	* encriptar.c (AcceptPassword): Modified the SQL sentence to check
	if the user is already using the system.

	* main.c (MainWindow): Changed "Gestion Total" by "Rizoma
	Comercio" the real name :).

2006-03-22  Jonathan Gonzalez V.  <zeus@gnu.org>

	* tipos.h (_user): Added the "level" member to know what is the
	level of the current user.

2006-03-19  Jonathan Gonzalez V.  <zeus@gnu.org>

	* vale.c: Created to store the ticket system.
	(PrintVale): Print the given ticket.

	* tiempo.c (CurrentTime): We need a function to get the current time

	* vale.c (PrintVale): Created this funciton to print a ticket

2006-03-15  Jonathan Gonzalez V.  <zeus@gnu.org>

	* main.c (PutPoints): Fixed the bug that put it two points or more
	in the string number.

